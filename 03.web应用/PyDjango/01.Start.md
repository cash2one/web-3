####一.  CGI-->Web框架——Django  
#####1. CGI
使用Python开发Web，最简单，原始和直接的办法是使用CGI标准，在1998年这种方式很流行。  
现在从应用角度解释它是如何工作：  

- 首先做一个Python脚本，输出HTML代码，然后保存成.cgi扩展名的文件，通过浏览器访问此文件。
- 用户请求CGI，脚本代码打印Content-Type行，后面跟着换行。  
- 再接下来是一些HTML的起始标签，然后连接数据库并执行一些查询操作，获取最新的十本书。在遍历这些书的同时，生成一个书名的HTML列表项。 
- 最后，输出HTML的结束标签并且关闭数据库连接。 

#####2. Web框架——Django
Web框架为应用程序提供了一套程序框架，这样你可以专注于编写清晰、易维护的代码，而无需从头做起。 
Django：一个可以使Web开发工作愉快并且高效的Web开发框架，使你能够以最小的代价构建和维护高质量的Web应用。    
本质上来说， Django 只不过是用 Python 编写的一组类库。学习Django就是学习她的命名规则和API。  

####二.  安装使用
#####1. django安装  
- 运行get-pip.py
- cmd下进入python安装文件夹下的Scripts文件夹
- [python ]pip[.exe] install django==1.7.1

#####2. 测试django安装  
- python  
- import django  
- django.VERSION  

#####3.  安装数据库  
设置数据库只需要两步：

- 首先，你需要安装和配置数据库服务器本身。
- 其次，你需要为你的服务器后端安装连接数据库的Python库（数据库适配器）。

Django支持四种数据库：  

- PostgreSQL (http://www.postgresql.org/)
Django的可选GIS支持，为PostgreSQL提供了强大的功能。如果你不准备使用一些老旧系统，而且可以自由的选择数据库后端，我们推荐你使用PostgreSQL，它在成本、特性、速度和稳定性方面都做的比较平衡。  
psycopg开发包下载：http://www.djangoproject.com/r/python-pgsql/。  
或者python-psycopg2，psycopg2-python，python-postgresql等。

- SQLite3 (http://www.sqlite.org/)
pysqlite包：http://initd.org/psycopg/download/   
或者python-sqlite3，sqlite-python，pysqlite等。

- MySQL (http://www.mysql.com/)
MySQLdb包：http://www.djangoproject.com/r/python-mysql/   
或者python-mysql,python-mysqldb,mysql-python等。
【127.0.0.1/phpmyadmin图形化Appserv数据库】

- Oracle (http://www.oracle.com/)     
cx_Oracle库：http://cx-oracle.sourceforge.net/  要用4.3.1或更高版本，但要避开5.0，这是因为这个版本的驱动有bug。  

####三. 开启django项目
cmd> python                     打开python交互式shell；
cmd> python managr.py shell     打开django交互式shell（测试Django代码）；
*exit()，cmd下退出程序。*  

1. windows下cmd，linux下terminal，cd进入想要建立的项目路径下；  
2. python django-admin.py（带路径） startproject project_name；
    - django-admin.py原始路径（可复制到任何方便的路径）：python安装路径下/Scripts/django-admin.py  
    - 项目路径，就是cmd或者terminal的当前路径；
    - project_name为项目名称；
3. 创建Django App  
cd到想要建立App的路径下，python manage.py（含路径） startapp app_name。  
4. 后台管理————图形化操作数据库  
python manage.py 
    + validate（check）  检查
    + sqlall appName     建立数据库表，自动生成的表名是app名称和模型的小写名称的组合。Django为每个表格自动添加一个id主键，你可以重新设置它。Django添加 "_id" 后缀到外键字段名。
    + makemigrations      迁移数据库————基于当前models在app的migrations目录下生成本次迁移文件。
    + sqlmigrate          显示迁移的SQL语句
    + migrate             用于执行迁移动作
    + syncdb              同步数据库

####四. 运行django服务器（启动刚刚创建的Project）：
1. django可以和市面上主流的http服务器契合使用，开发过程中可以使用django自带的轻量级服务器；  
2. django自带服务器启动命令：  
    + python manage.py（注意路径） runserver  默认8000端口号
    + python manage.py runserver 0.0.0.0:9000 更换端口号  
*在1.7.1之后版本，django在运行之后会自动生成sqlite3数据库。*

*python文件名不能与python安装文件目录下的libs下的.lib模块重名。*  

如果想从south升级到最新的django migration, 可以按以下步骤实现：

- 确保south中的migration全部被应用了；
- 从 INSTALLED_APPS中移除south；
- 删除每个app下migration目录中的所有文件, 除了__init__.py；
- 运行python manager.py makemigrations, Django会初始化migration；
- 运行python manager.py migrate, django会发现数据库和初始化的migration相同, 从而将他们标记为已应用。




